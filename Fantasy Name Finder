<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fantasy Name Finder</title>

    <style>

        body{
            margin: 0;
            background-color: rgb(204, 190, 168);
        }
    
        .container{
            padding: 20px;
            margin: 20px;
            border: 1px solid grey;
            background-color: white;
        }

        .center-content{
            text-align: center;
        }

        .output-div{
            width: 24%;
            display: inline-block;
            padding: 5px 0px;
            margin: 2px 0px;
            background-color: rgb(211, 192, 165);
        }

        .title-text{
            -webkit-text-stroke: 1px black;
            color: rgb(211, 179, 75);
            text-shadow:
            2px 2px 0 #000,
            -1px -1px 0 #000,
            1px -1px 0 #000,
            -1px 1px 0 #000,
            1px 1px 0 #000;
            font-size: 60px;
        }

        input{
            padding: 4px;
            margin: 4px;
        }

        h1{
            margin: 20px;
        }

        #infoButton{
            border: 2px solid rgb(211, 179, 75);;
            width: 20px;
            color: rgb(211, 179, 75);;
            font-weight: bold;
            border-radius: 7px;
            text-align: center;
        }

        #info{
            position: fixed;
            background-color: darkslategray;
            color: whitesmoke;
            width: 35%;
            top: 80px;
            left: 80px;
            padding: 20px;
            opacity: 0.85;
            border-radius: 7px;
        }

        .hidden{
            display: none;
        }

        @media only screen and (max-width: 1150px) {
            
            .output-div{
                width: 33%;
            }

        }

        @media only screen and (max-width: 900px) {
            
            .output-div{
                width: 49%;
            }

        }

        @media only screen and (max-width: 527px) {
            
            .output-div{
                width: 100%;
            }

        }



    </style>

</head>
<body>
    
    <div id="container-inputField" class="container">

        <h1 class="center-content title-text">Fantasy Name Finder</h1>

        <div class="center-content">
            <label for="inputField" id="inputField-label">Enter name here</label>
        </div>

        <div class="center-content" class="center-content">
            <input type="text" id="inputField">
        </div>

        <div id="infoButton">i</div>

    </div>

    <div id="container-offset" class="container center-content">

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-1">Offset by 1</label>
            </div>
            <input type="text" id="offset-1" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-2">Offset by 2</label>
            </div>
            <input type="text" id="offset-2" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-3">Offset by 3</label>
            </div>
            <input type="text" id="offset-3" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-4">Offset by 4</label>
            </div>
            <input type="text" id="offset-4" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-5">Offset by 5</label>
            </div>
            <input type="text" id="offset-5" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-6">Offset by 6</label>
            </div>
            <input type="text" id="offset-6" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-7">Offset by 7</label>
            </div>
            <input type="text" id="offset-7" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-8">Offset by 8</label>
            </div>
            <input type="text" id="offset-8" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-9">Offset by 9</label>
            </div>
            <input type="text" id="offset-9" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-10">Offset by 10</label>
            </div>
            <input type="text" id="offset-10" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-11">Offset by 11</label>
            </div>
            <input type="text" id="offset-11" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-12">Offset by 12</label>
            </div>
            <input type="text" id="offset-12" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-13">Offset by 13</label>
            </div>
            <input type="text" id="offset-13" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-14">Offset by 14</label>
            </div>
            <input type="text" id="offset-14" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-15">Offset by 15</label>
            </div>
            <input type="text" id="offset-15" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-16">Offset by 16</label>
            </div>
            <input type="text" id="offset-16" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-17">Offset by 17</label>
            </div>
            <input type="text" id="offset-17" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-18">Offset by 18</label>
            </div>
            <input type="text" id="offset-18" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-19">Offset by 19</label>
            </div>
            <input type="text" id="offset-19" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-20">Offset by 20</label>
            </div>
            <input type="text" id="offset-20" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-21">Offset by 21</label>
            </div>
            <input type="text" id="offset-21" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-22">Offset by 22</label>
            </div>
            <input type="text" id="offset-22" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-23">Offset by 23</label>
            </div>
            <input type="text" id="offset-23" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-24">Offset by 24</label>
            </div>
            <input type="text" id="offset-24" disabled>
        </div>

        <div class="center-content output-div">
            <div class="center-content">
                <label for="offset-25">Offset by 25</label>
            </div>
            <input type="text" id="offset-25" disabled>
        </div>

    </div>

    <div id="info" class="hidden">
        <h4>Info</h4>
        <p>Ever struggled to pick a name for a character in a game or story? Playing a strategic game and don't know how to name your city?
            Type in an existing name of a person, city, character and watch it turn into 25 new potential inspiriations for a new name!<br>
            Have fun!<br><br>
            Maximum name length is 20 letters. 
        </p>
    </div>

    <script>

        /*
        
        Ever struggled to pick a name for a character in a game or story? Playing a strategic game and don't know how to name your city?
        Type in an existing name of a person, city, character and watch it turn into 25 new potential inspiriations for a new name!
        Maximum name length is 20 letters.

        Have fun!
        
        */
    
        // variables
        let inputField = document.getElementById('inputField');
        let infoButton = document.getElementById('infoButton');

        infoButton.addEventListener('mouseover', function () {
            document.getElementById('info').classList.remove('hidden');
        });

        infoButton.addEventListener('mouseout', function () {
            document.getElementById('info').classList.add('hidden');
        });

        // event listener function
        inputField.addEventListener('keyup', function () {

            // delete all letters in offset fields if main field is empty
            if (inputField.value.length == 0) {
                for (let i = 1; i < 26; i++) {
                    document.getElementById('offset-' + i).value = "";                    
                }
            }
            else if (inputField.value.length > 20) {
                deleteLastLetter();
            }
            else {
                
                // check for chars that are not letters and delete them
                checkIfAllLettersInString(inputField.value);
                
                for (let i = 1; i < 26; i++) {
                    document.getElementById('offset-' + i).value = caesar(i);    
                }

            }
        });

        // deletes last letter if string is longer than 20 characters
        function deleteLastLetter(a) {

            // if not a letter, then delete character and return false
            if (!((a >= 'A' && a <= 'Z') || (a >= 'a' && a <= 'z'))) {

                inputField.value = inputField.value.slice(0, -1);
                return false;
            }
            else
                return true;
        }

        // checks the main input field for non-letters
        function checkIfAllLettersInString(textToCheck) {

            for (let i = 0; i < textToCheck.length; i++) {

                let c = isLetter(textToCheck[i]);

                if (c == false) {
                    inputField.value = deleteChar(textToCheck, i);
                }

            }

            return;
        }

        // checks if char is a letter
        function isLetter(a) {

            if (!((a >= 'A' && a <= 'Z') || (a >= 'a' && a <= 'z'))) {
                return false;
            }
            else
                return true;
        }

        // deletes a char in a string in given index
        function deleteChar(str, index) {

            let temp = '';
            let tempIndex = 0;

            for (let i = 0; i < str.length; i++) {

                if (i == index) {
                    temp[tempIndex] = str[i];
                }
                
            }

            // split old string at index of removed char and join rest of string together again
            str = str.split(str[index]).join(temp);
            return str;
        }

        // the actual Caesar's Cypher shift of a letter
        function caesar(k) {

            let temp = "";

            // go through each character
            for (var i = 0; i < inputField.value.length; i++) {

                // get the character to be appended
                let c = inputField.value[i];

                // get ASCII code of character
                let code = inputField.value.charCodeAt(i);

                // check if uppercase letter
                if ((code >= 65) && (code <= 90))
                    c = String.fromCharCode(((code - 65 + k) % 26) + 65);
                    //c = String.fromCharCode('A'.charCodeAt(0) + (k - 1 - ('Z'.charCodeAt(0) - c.charCodeAt(0)))); // not working

                // else check if lowercase letters
                else if ((code >= 97) && (code <= 122))
                    c = String.fromCharCode(((code - 97 + k) % 26) + 97);
                    //c = String.fromCharCode('a'.charCodeAt(0) + (k - 1 - ('z'.charCodeAt(0) - c.charCodeAt(0)))); // not working

                // append letter to new string
                temp += c;

            }

            return temp;
        }
    
    </script>

</body>
</html>
